const g=e=>e*Math.PI/180,v=e=>{let n=0;for(let t=0;t<e.length;t++)n+=e[t].value;return n},m=(e,n,t)=>n===0?0:u(e,n-1,t),i=(e,n,t)=>{const r=e[n].value/t*360,o=n===0?0:i(e,n-1,t);return r+o},u=(e,n,t)=>g(i(e,n,t)),f=(e,n=5)=>{const[t,r]=[e.canvas.width/2,e.canvas.height/2];n>e.canvas.width/2&&console.error("Border should be smaller then marker radius"),e.save(),e.beginPath(),e.arc(t,r,r-n,0,2*Math.PI),e.closePath(),e.clip(),e.clearRect(0,0,t*2,r*2),e.restore()},P=(e,n=20)=>{const t=document.createElement("canvas");t.width=n,t.height=n;const r=t.getContext("2d"),o=t.width/2,a=t.height/2,c=v(e);let s,h;for(let l=0;l<e.length;l++)s=m(e,l,c),h=u(e,l,c),r.beginPath(),r.fillStyle=e[l].color,r.moveTo(o,a),r.arc(o,a,a,s,h),r.fill();return f(r),t};export{P as d};
