const h={diameter:20,borderWidth:4},d=e=>e*Math.PI/180,v=e=>{let r=0;for(let t=0;t<e.length;t++)r+=e[t].value;return r},m=(e,r,t)=>r===0?0:g(e,r-1,t),u=(e,r,t)=>{const n=e[r].value/t*360,o=r===0?0:u(e,r-1,t);return n+o},g=(e,r,t)=>d(u(e,r,t)),f=(e,r=h.borderWidth)=>{const[t,n]=[e.canvas.width/2,e.canvas.height/2];r>e.canvas.width/2&&console.error("Border should be smaller then marker radius"),e.save(),e.beginPath(),e.arc(t,n,n-r,0,2*Math.PI),e.closePath(),e.clip(),e.clearRect(0,0,t*2,n*2),e.restore()},P=(e,r=h.diameter)=>{const t=document.createElement("canvas");t.width=r,t.height=r;const n=t.getContext("2d"),o=t.width/2,a=t.height/2,s=v(e);let c,i;for(let l=0;l<e.length;l++)c=m(e,l,s),i=g(e,l,s),n.beginPath(),n.fillStyle=e[l].color,n.moveTo(o,a),n.arc(o,a,a,c,i),n.fill();return f(n),t};export{P as d};
